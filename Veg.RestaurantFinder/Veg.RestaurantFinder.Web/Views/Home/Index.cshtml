@model Veg.RestaurentFinder.Models.RestaurantViewModel

@{
    ViewBag.Title = "Restarant Finder";
}

<link href="~/Content/toastr.css" rel="stylesheet" />

<h2 class="text-center">Restaurant Finder (Proof of Concept for Chicago Veg Meetup)</h2>

<div class="container-fluid" data-restaurants-url="@Url.Action("GetRestaurants", "home")">
    <div class="row">
        <div class="col-md-5">
            <fieldset>
                <legend>Your Location</legend>
                <div style="display: none;" data-bind="autoDetectLocation: $root.locationAutoDetectable">
                    <input type="radio" name="location" value="auto" checked="checked" /> Auto-detect <br />
                    <input type="radio" name="location" value="manual" /> Manual
                </div>
                <div>
                    Address: <input type="text" name="userAdress" /> <br />
                    City: <input type="text" name="userCity" /> <br />
                    State: <input type="text" name="userState" /> <br />
                    Zip Code: <input type="text" name="userZipCode" /><br /><br /><br />
                </div>
            </fieldset>
            <fieldset>
                <legend>Restaurants</legend>
                <div data-bind="foreach: restaurants">
                    <input type="radio" name="restaurantList" data-bind="value: Id, selectRestaurant: $root.newRestaurantSelected"> <span data-bind="text: Name"></span> <br>
                </div>
            </fieldset>
        </div>        
        <div class="col-md-7">
            <fieldset>
                <legend>Map</legend>
                <div id="map-canvas" data-bind="googleMap: $root.currentSelectedRestaurant.restaurant, updateDirection: $root.direction" style="height: 600px; width: 600px; margin: 0; padding: 0;"></div>
            </fieldset>
         </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <fieldset>
                <legend>Means of Transpor</legend>
                @*Object {DRIVING: "DRIVING", WALKING: "WALKING", BICYCLING: "BICYCLING", TRANSIT: "TRANSIT"}*@
                <input type="radio" name="directionType" value="DRIVING" checked="checked" /> Driving <br />
                <input type="radio" name="directionType" value="WALKING" /> Walking <br />
                <input type="radio" name="directionType" value="BICYCLING" /> Bicyling <br />
                <input type="radio" name="directionType" value="TRANSIT" /> Transit 
            </fieldset>
        </div>
        <div class="col-md-9">
            <fieldset>
                <legend>Directions</legend>
                <div data-bind="directions: $root.direction"></div>
            </fieldset>

        </div>

    </div>
</div>

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBAOwzytIg0f5sPAwNODdSHB5lfYaYa-sQ"></script>

@*<script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>*@

<script src="~/Scripts/Veg/veg.init.js"></script>

<script src="~/Scripts/knockout-3.2.0.debug.js"></script>
<script src="~/Scripts/jquery-2.1.1.min.js"></script>
<script src="~/Scripts/underscore.js"></script>
<script src="~/Scripts/toastr.min.js"></script>
<script src="~/Scripts/modernizr-2.8.3.js"></script>

<script src="~/Scripts/underscore.string.min.js"></script>
<script src="~/Scripts/Veg/extensions/underscore.emptyFunction.js"></script>

<script src="~/Scripts/Veg/veg.restaurantFinderDataAccess.js"></script>
<script src="~/Scripts/Veg/veg.restaurantFinderViewModel.js"></script>

<script src="~/Scripts/Veg/ko/ko.bindingHandlers.googleMap.js"></script>
<script src="~/Scripts/Veg/ko/ko.bindingHandlers.selectRestaurant.js"></script>
<script src="~/Scripts/Veg/ko/ko.bindingHandlers.directions.js"></script>
<script src="~/Scripts/Veg/ko/ko.bindingHandlers.getUserLocation.js"></script>
<script src="~/Scripts/Veg/ko/ko.bindingHandlers.autoDetectLocation.js"></script>

     
<script src="~/Scripts/Veg/veg.binding.js"></script>